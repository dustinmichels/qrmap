import numpy as np

QR_CODE = """
        ##############      ####  ######    ##############
        ##          ##  ##########    ##    ##          ##
        ##  ######  ##  ##    ##      ####  ##  ######  ##
        ##  ######  ##      ##      ####    ##  ######  ##
        ##  ######  ##  ##  ####  ########  ##  ######  ##
        ##          ##  ####      ##  ####  ##          ##
        ##############  ##  ##  ##  ##  ##  ##############
                        ######      ######
        ####  ##    ####    ####  ########  ######  ####
        ############  ####      ##      ##  ##          ##
            ##    ####    ####    ##    ##########    ####
              ######  ##          ##########    ##
          ######    ##  ##        ##  ########    ##  ####
            ##  ##    ##  ####  ##  ##      ####  ####  ##
        ##    ##  ####  ##    ##  ##    ##########  ##  ##
          ##  ######  ######    ######  ##  ##  ##    ##
        ####      ####        ####  ##################
                        ########    ######      ####    ##
        ##############  ##  ##    ##  ####  ##  ####  ####
        ##          ##        ####      ##      ######  ##
        ##  ######  ##          ######  ############
        ##  ######  ##  ##  ##  ####          ########
        ##  ######  ##              ##  ####  ####  ##  ##
        ##          ##  ##  ########  ######      ##
        ##############  ##  ########  ####  ####      ####
"""


def cleanup(qr_code: str) -> list[str]:
    # remove first and last empty rows
    arr = qr_code.split("\n")[1:-1]

    # remove leading 8 spaces
    arr = [x[8:] for x in arr]

    # pad end of lines if needed for constant width
    arr = [x.ljust(50) for x in arr]

    return arr


def get_compact(qr_code: str):
    arr = cleanup(qr_code)
    arr_compact = [x.replace("##", "#").replace("  ", " ") for x in arr]
    bool_array = np.array([[char == "#" for char in row] for row in arr_compact])
    return bool_array
